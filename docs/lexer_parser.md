## 1. 词法分析器 (Lexer)

### 概述
负责将源代码文本转换为 token 流，实现了 Tiger 语言的词法规则。

### 主要组件
- **`lex.py`**: 使用 PLY 实现的词法分析器

### 支持的 Token 类型
- **关键字**: `if`, `then`, `else`, `while`, `for`, `break`, `let`, `in`, `end`, `function`, `var`, `type`, `array`, `of`, `nil`
- **运算符**: `+`, `-`, `*`, `/`, `=`, `<>`, `<`, `<=`, `>`, `>=`, `:=`, `&`, `|`
- **标识符**: 变量名和函数名
- **字面量**: 整数字面量、字符串字面量、`nil`
- **分隔符**: `,`, `;`, `(`, `)`, `[`, `]`, `{`, `}`, `.`

### 具体实现细节
- **词法规则定义**
    - 使用正则表达式定义 token 模式
    - 处理注释和空白字符
    - 跟踪行号和列号信息
- **错误处理**
    - 非法字符检测
    - 字符串常量处理
    - 错误恢复机制

### 使用方法
参考 `lex.py` 中的具体实现。

---

## 2. 语法分析器 (Parser)

### 概述
将 token 流转换为抽象语法树 (AST)，实现 Tiger 语言的上下文无关文法。

### 主要组件
- **`parser.py`**: 使用 PLY 实现的 LALR(1) 语法分析器
- **`ast_nodes.py`**: AST 节点类的定义和实现

### 语法规则
- **表达式**
    - 算术表达式 (`+`, `-`, `*`, `/`)
    - 比较表达式 (`=`, `<>`, `<`, `<=`, `>`, `>=`)
    - 逻辑表达式 (`&`, `|`)
    - 函数调用 (`id(args)`)
    - 数组和记录操作 (`array[index]`, `record.field`)
    - 赋值表达式 (`:=`)
    - 顺序表达式 (`exp1; exp2`)
- **声明**
    - 变量声明 (`var id := exp`)
    - 类型声明 (`type id = ty`)
    - 函数声明 (`function id(params) = body`)
- **类型定义**
    - 基本类型 (`int`, `string`)
    - 数组类型 (`array of ty`)
    - 记录类型 (`{field1: ty1, field2: ty2}`)
    - 类型别名
- **控制结构**
    - 条件语句 (`if-then-else`)
    - 循环语句 (`while`, `for`)
    - 块语句 (`let-in-end`)

### 实现细节
- **优先级和结合性**
- **文法消除二义性**
- **错误恢复和报告**

### 使用方法
参考 `parser.py` 和 `ast_nodes.py` 的实现细节和注释。

---
